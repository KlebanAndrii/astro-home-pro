---
import "./questions.css";
---

<section class="questions">
  <div class="questions__container">
    <div class="questions__block-header block-header">
      <h2 class="block-header__title">Frequently Asked Questions</h2>
      <div class="block-header__text">
        <p>Still need help? <a href="#">Get Help Now</a></p>
      </div>
    </div>
    <div class="questions__spollers spollers-questions">
      <details class="spollers-questions__item">
        <summary class="spollers-questions__title">What is HomePro?</summary>
        <div class="spollers-questions__body">HomePro is a home care platform that connects homeowners with professional service providers offering a wide range of home services, including repairs, maintenance, cleaning, and more.</div>
      </details>
      <details class="spollers-questions__item">
        <summary class="spollers-questions__title">Are the service providers on HomePro reliable and qualified?</summary>
        <div class="spollers-questions__body">HomePro is a home care platform that connects homeowners with professional service providers offering a wide range of home services, including repairs, maintenance, cleaning, and more.</div>
      </details>
      <details class="spollers-questions__item">
        <summary class="spollers-questions__title">What if I have an issue or complaint about a service provider?</summary>
        <div class="spollers-questions__body">HomePro is a home care platform that connects homeowners with professional service providers offering a wide range of home services, including repairs, maintenance, cleaning, and more.</div>
      </details>
      <details class="spollers-questions__item">
        <summary class="spollers-questions__title">How are payments handled on HomePro?</summary>
        <div class="spollers-questions__body">HomePro is a home care platform that connects homeowners with professional service providers offering a wide range of home services, including repairs, maintenance, cleaning, and more.</div>
      </details>
      <details class="spollers-questions__item">
        <summary class="spollers-questions__title">How do I leave a review for a service provider?</summary>
        <div class="spollers-questions__body">HomePro is a home care platform that connects homeowners with professional service providers offering a wide range of home services, including repairs, maintenance, cleaning, and more.</div>
      </details>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const detailsElements = document.querySelectorAll(".spollers-questions__item");

    if (detailsElements.length > 0) {
      detailsElements[0].setAttribute("open", "");
    }

    detailsElements.forEach((details) => {
      details.addEventListener("click", () => {
        detailsElements.forEach((el) => {
          if (el !== details) {
            el.removeAttribute("open");
          }
        });
      });
    });
  });

  document.addEventListener("DOMContentLoaded", function () {
    const items = document.querySelectorAll(".spollers-questions__item");

    function checkItemsVisibility() {
      const triggerBottom = window.innerHeight * 0.9;

      items.forEach((item, index) => {
        const itemTop = item.getBoundingClientRect().top;

        if (itemTop < triggerBottom) {
          setTimeout(() => {
            item.classList.add("visible");
          }, index * 100); // затримка для кожного елемента
        }
      });
    }

    window.addEventListener("scroll", checkItemsVisibility);
    checkItemsVisibility(); // перевірити при завантаженні
  });
</script>
